[{"H:\\chatapp\\client\\src\\index.js":"1","H:\\chatapp\\client\\src\\reportWebVitals.js":"2","H:\\chatapp\\client\\src\\App.js":"3","H:\\chatapp\\client\\src\\ApolloProvider.js":"4","H:\\chatapp\\client\\src\\util\\DynamicRoute.js":"5","H:\\chatapp\\client\\src\\context\\auth.js":"6","H:\\chatapp\\client\\src\\context\\message.js":"7","H:\\chatapp\\client\\src\\pages\\Register.jsx":"8","H:\\chatapp\\client\\src\\pages\\Login.jsx":"9","H:\\chatapp\\client\\src\\pages\\home\\Home.jsx":"10","H:\\chatapp\\client\\src\\graphql\\registerMutation.js":"11","H:\\chatapp\\client\\src\\graphql\\loginQuery.js":"12","H:\\chatapp\\client\\src\\pages\\home\\Messages.jsx":"13","H:\\chatapp\\client\\src\\pages\\home\\Users.jsx":"14","H:\\chatapp\\client\\src\\graphql\\getMessagesQuery.js":"15","H:\\chatapp\\client\\src\\graphql\\getUsersQuery.js":"16","H:\\chatapp\\client\\src\\components\\Message.jsx":"17"},{"size":478,"mtime":1608696667656,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":1608181791446,"results":"20","hashOfConfig":"19"},{"size":971,"mtime":1608783906132,"results":"21","hashOfConfig":"19"},{"size":708,"mtime":1608627676962,"results":"22","hashOfConfig":"19"},{"size":446,"mtime":1608624203518,"results":"23","hashOfConfig":"19"},{"size":1450,"mtime":1608697594068,"results":"24","hashOfConfig":"19"},{"size":1540,"mtime":1608790248591,"results":"25","hashOfConfig":"19"},{"size":3464,"mtime":1608216939874,"results":"26","hashOfConfig":"19"},{"size":2533,"mtime":1608608169328,"results":"27","hashOfConfig":"19"},{"size":884,"mtime":1608799074634,"results":"28","hashOfConfig":"19"},{"size":411,"mtime":1608213233488,"results":"29","hashOfConfig":"19"},{"size":255,"mtime":1608218544782,"results":"30","hashOfConfig":"19"},{"size":1629,"mtime":1608799741299,"results":"31","hashOfConfig":"19"},{"size":1595,"mtime":1608788631733,"results":"32","hashOfConfig":"19"},{"size":228,"mtime":1608741688928,"results":"33","hashOfConfig":"19"},{"size":294,"mtime":1608730214611,"results":"34","hashOfConfig":"19"},{"size":971,"mtime":1608827942183,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1mjf2y8",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"H:\\chatapp\\client\\src\\index.js",[],["72","73"],"H:\\chatapp\\client\\src\\reportWebVitals.js",[],"H:\\chatapp\\client\\src\\App.js",[],"H:\\chatapp\\client\\src\\ApolloProvider.js",[],"H:\\chatapp\\client\\src\\util\\DynamicRoute.js",[],"H:\\chatapp\\client\\src\\context\\auth.js",[],"H:\\chatapp\\client\\src\\context\\message.js",[],"H:\\chatapp\\client\\src\\pages\\Register.jsx",[],"H:\\chatapp\\client\\src\\pages\\Login.jsx",[],"H:\\chatapp\\client\\src\\pages\\home\\Home.jsx",[],"H:\\chatapp\\client\\src\\graphql\\registerMutation.js",[],"H:\\chatapp\\client\\src\\graphql\\loginQuery.js",[],"H:\\chatapp\\client\\src\\pages\\home\\Messages.jsx",["74","75"],"import React, { useEffect } from \"react\";\r\nimport { useLazyQuery } from \"@apollo/client\";\r\nimport { GET_MESSAGES } from \"../../graphql/getMessagesQuery\";\r\nimport { useMessageDispatch, useMessageState } from \"../../context/message\";\r\nimport Message from \"../../components/Message\";\r\n\r\nexport const Messages = () => {\r\n  const dispatch = useMessageDispatch();\r\n  const { users } = useMessageState();\r\n  const selectedUser = users?.find((u) => u.selected === true);\r\n  const messages = selectedUser?.messages;\r\n\r\n  const [\r\n    getMessages,\r\n    { loading: messagesLoading, data: messagesData },\r\n  ] = useLazyQuery(GET_MESSAGES);\r\n\r\n  useEffect(() => {\r\n    if (selectedUser && !selectedUser.messages) {\r\n      getMessages({ variables: { from: selectedUser.username } });\r\n    }\r\n  }, [selectedUser]);\r\n\r\n  useEffect(() => {\r\n    if (messagesData) {\r\n      dispatch({\r\n        type: \"SET_USER_MESSAGES\",\r\n        payload: {\r\n          username: selectedUser.username,\r\n          messages: messagesData.getMessages,\r\n        },\r\n      });\r\n    }\r\n  }, [messagesData]);\r\n\r\n  let selectedChatMarkup;\r\n  if (!messages && !messagesLoading) {\r\n    selectedChatMarkup = <p>选择一个好友开始聊天</p>;\r\n  } else if (messagesLoading) {\r\n    selectedChatMarkup = <p>正在加载...</p>;\r\n  } else if (messages.length > 0) {\r\n    selectedChatMarkup = messages.map((message) => (\r\n      <Message key={message.uuid} message={message} />\r\n    ));\r\n  } else if (messages.length === 0) {\r\n    selectedChatMarkup = <p>会话已连接！向TA发送消息</p>;\r\n  }\r\n\r\n  return <div className='message-right'>{selectedChatMarkup}</div>;\r\n};\r\n","H:\\chatapp\\client\\src\\pages\\home\\Users.jsx",[],"H:\\chatapp\\client\\src\\graphql\\getMessagesQuery.js",[],"H:\\chatapp\\client\\src\\graphql\\getUsersQuery.js",[],"H:\\chatapp\\client\\src\\components\\Message.jsx",["76"],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":22,"column":6,"nodeType":"83","endLine":22,"endColumn":20,"suggestions":"84"},{"ruleId":"81","severity":1,"message":"85","line":34,"column":6,"nodeType":"83","endLine":34,"endColumn":20,"suggestions":"86"},{"ruleId":"87","severity":1,"message":"88","line":9,"column":9,"nodeType":"89","messageId":"90","endLine":9,"endColumn":16},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getMessages'. Either include it or remove the dependency array.","ArrayExpression",["93"],"React Hook useEffect has missing dependencies: 'dispatch' and 'selectedUser.username'. Either include them or remove the dependency array.",["94"],"no-unused-vars","'recived' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"95","fix":"96"},{"desc":"97","fix":"98"},"Update the dependencies array to be: [getMessages, selectedUser]",{"range":"99","text":"100"},"Update the dependencies array to be: [dispatch, messagesData, selectedUser.username]",{"range":"101","text":"102"},[783,797],"[getMessages, selectedUser]",[1049,1063],"[dispatch, messagesData, selectedUser.username]"]